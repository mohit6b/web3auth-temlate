(self.webpackChunkweb3auth_poc=self.webpackChunkweb3auth_poc||[]).push([[584],{72584:function(e,t,r){"use strict";r.d(t,{v:function(){return K}});var n=r(15861),a=r(15671),o=r(43144),c=r(97326),i=r(60136),s=r(82963),l=r(61120),u=r(4942),h=r(87757),p=r.n(h),f=r(64613),d=r(688),v=r(58489),m=r(30456),y=r(62895),g=r.n(y),k="eip155",w="solana",E="other",N=function(e,t){if(e===E)return null;var r=t?"number"===typeof t?t:parseInt(t,16):function(e){if(e===k)return 1;if(e===w)return 1;throw new Error("Chain namespace ".concat(e," is not supported"))}(e);return e===k?function(e){return 1===e?{chainNamespace:k,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/eth",displayName:"Ethereum Mainnet",blockExplorer:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:3===e?{chainNamespace:k,chainId:"0x3",rpcTarget:"https://rpc.ankr.com/eth_ropsten",displayName:"Ropsten Testnet",blockExplorer:"https://ropsten.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:4===e?{chainNamespace:k,chainId:"0x4",rpcTarget:"https://rpc.ankr.com/eth_rinkeby",displayName:"Rinkeby Testnet",blockExplorer:"https://rinkeby.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:5===e?{chainNamespace:k,chainId:"0x5",rpcTarget:"https://rpc.ankr.com/eth_goerli",displayName:"Goerli Testnet",blockExplorer:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:137===e?{chainNamespace:k,chainId:"0x89",rpcTarget:"https://rpc.ankr.com/polygon",displayName:"Polygon Mainnet",blockExplorer:"https://polygonscan.com",ticker:"MATIC",tickerName:"Polygon"}:80001===e?{chainNamespace:k,chainId:"0x13881",rpcTarget:"https://rpc.ankr.com/polygon_mumbai",displayName:"Polygon Mumbai Testnet",blockExplorer:"https://mumbai.polygonscan.com/",ticker:"MATIC",tickerName:"Polygon"}:56===e?{chainNamespace:k,chainId:"0x38",rpcTarget:"https://rpc.ankr.com/bsc",displayName:"Binance SmartChain Mainnet",blockExplorer:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain"}:97===e?{chainNamespace:k,chainId:"0x61",rpcTarget:"https://rpc.ankr.com/bsc_testnet_chapel",displayName:"Binance SmartChain Testnet",blockExplorer:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain"}:25===e?{chainNamespace:k,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:338===e?{chainNamespace:k,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:8217===e?{chainNamespace:k,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorer:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn"}:null}(r):e===w?function(e){return 1===e?{chainNamespace:w,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorer:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana"}:2===e?{chainNamespace:w,chainId:"0x2",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorer:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana"}:3===e?{chainNamespace:w,chainId:"0x3",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorer:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana"}:null}(r):null};function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var C=function(e){(0,i.Z)(r,e);var t=b(r);function r(e,n){var o;return(0,a.Z)(this,r),o=t.call(this,n),(0,u.Z)((0,c.Z)(o),"code",void 0),(0,u.Z)((0,c.Z)(o),"message",void 0),o.code=e,o.message=n||"",Object.defineProperty((0,c.Z)(o),"name",{value:"Web3AuthError"}),o}return(0,o.Z)(r,[{key:"toJSON",value:function(){return{name:this.name,code:this.code,message:this.message}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}]),r}(d.s),O=function(e){(0,i.Z)(r,e);var t=b(r);function r(e,n){var o;return(0,a.Z)(this,r),o=t.call(this,e,n),Object.defineProperty((0,c.Z)(o),"name",{value:"WalletInitializationError"}),o}return(0,o.Z)(r,null,[{key:"fromCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new r(e,"".concat(r.messages[e],", ").concat(t))}},{key:"notFound",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5001,e)}},{key:"notInstalled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5002,e)}},{key:"notReady",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5003,e)}},{key:"windowBlocked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5004,e)}},{key:"windowClosed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5005,e)}},{key:"incompatibleChainNameSpace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5006,e)}},{key:"duplicateAdapterError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5007,e)}},{key:"invalidProviderConfigError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5008,e)}},{key:"providerNotReadyError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5009,e)}},{key:"rpcConnectionError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5010,e)}},{key:"invalidParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5011,e)}},{key:"invalidNetwork",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5013,e)}}]),r}(C);(0,u.Z)(O,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});var T=function(e){(0,i.Z)(r,e);var t=b(r);function r(e,n){var o;return(0,a.Z)(this,r),o=t.call(this,e,n),Object.defineProperty((0,c.Z)(o),"name",{value:"WalletLoginError"}),o}return(0,o.Z)(r,null,[{key:"fromCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new r(e,"".concat(r.messages[e]).concat(t))}},{key:"connectionError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5111,e)}},{key:"disconnectionError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5112,e)}},{key:"notConnectedError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5113,e)}},{key:"popupClosed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5114,e)}}]),r}(C);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(0,u.Z)(T,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user"});var Z={OPENLOGIN:"openlogin",WALLET_CONNECT_V1:"wallet-connect-v1",WALLET_CONNECT_V2:"wallet-connect-v2"},I=x({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLLET:"sollet",SOLLET_EXTENSION:"sollet-extension",SOLFLARE:"solflare",SLOPE:"slope"},Z),S=x({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},Z),R=x(x({},S),I);function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},L=D(D({},j),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated"}),M=function(e){(0,i.Z)(r,e);var t=P(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,c.Z)(e),"adapterData",{}),(0,u.Z)((0,c.Z)(e),"sessionTime",86400),(0,u.Z)((0,c.Z)(e),"chainConfig",null),e}return(0,o.Z)(r,[{key:"chainConfigProxy",get:function(){return this.chainConfig?D({},this.chainConfig):null}},{key:"setChainConfig",value:function(e){if(this.status!==j.READY){if(!e.chainNamespace)throw O.notReady("ChainNamespace is required while setting chainConfig");var t=N(e.chainNamespace,e.chainId);this.chainConfig=D(D({},t),e)}}},{key:"setAdapterSettings",value:function(e){}},{key:"checkConnectionRequirements",value:function(){if(this.name!==R.WALLET_CONNECT_V1||this.status!==j.CONNECTING){if(this.status===j.CONNECTING)throw O.notReady("Already connecting");if(this.status===j.CONNECTED)throw T.connectionError("Already connected");if(this.status!==j.READY)throw T.connectionError("Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function");if(!this.clientId)throw T.connectionError("Please initialize Web3Auth with a valid clientId in constructor")}}},{key:"checkInitializationRequirements",value:function(){if(this.status!==j.NOT_READY){if(this.status===j.CONNECTED)throw O.notReady("Already connected");if(this.status===j.READY)throw O.notReady("Adapter is already initialized")}}},{key:"updateAdapterData",value:function(e){this.adapterData=e,this.emit(L.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:e})}}]),r}(f.Ue),U="https://authjs.web3auth.io",B=g().getLogger("web3auth-logger");function W(e){var t,r=!1,n=0;try{t=window[e],r=!0,n=t.length;var a="__storage_test__";return t.setItem(a,a),t.removeItem(a),!0}catch(c){var o=c;return!(!o||22!==o.code&&1014!==o.code&&"QuotaExceededError"!==o.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==o.name||!r||0===n)}}var F=function(e){var t=(0,m.Z)(e);return!t.exp||t.exp<Math.floor(Date.now()/1e3)},Y=function(){var e=(0,n.Z)(p().mark((function e(t,r){var n,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={payload:t,header:{t:"solana"===r?"sip99":"eip191"},network:"solana"===r?"solana":"ethereum"},e.next=6,(0,v.v_)("".concat(U,"/siww/get"),n);case 6:if((a=e.sent).success){e.next=9;break}throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");case 9:return e.abrupt("return",a.challenge);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),q=function(){var e=(0,n.Z)(p().mark((function e(t,r,n,a,o,c){var i,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={signature:{s:r,t:"solana"===t?"sip99":"eip191"},message:n,issuer:a,audience:window.location.hostname,timeout:o},e.next=4,(0,v.v_)("".concat(U,"/siww/verify"),i,{headers:{client_id:c,wallet_provider:a}});case 4:if((s=e.sent).success){e.next=8;break}throw B.error("Failed to authenticate user, ,message verification failed",s.error),new Error("Failed to authenticate user, ,message verification failed");case 8:return e.abrupt("return",s.token);case 9:case"end":return e.stop()}}),e)})));return function(t,r,n,a,o,c){return e.apply(this,arguments)}}(),z=function(e,t,r){return W("localStorage")?localStorage.setItem("".concat(e.toLowerCase(),"_").concat(t),r):null},H=r(5864),G=r.n(H);function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.Z)(e);if(t){var a=(0,l.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var K=function(e){(0,i.Z)(r,e);var t=V(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.Z)(this,r),e=t.call(this),(0,u.Z)((0,c.Z)(e),"clientId",void 0),e.clientId=n.clientId,e}return(0,o.Z)(r,[{key:"authenticateUser",value:function(){var e=(0,n.Z)(p().mark((function e(){var t,r,n,a,o,c,i,s,l,u,h;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.provider&&null!==(t=this.chainConfig)&&void 0!==t&&t.chainId){e.next=2;break}throw T.notConnectedError();case 2:if(r=this.chainConfig,n=r.chainNamespace,a=r.chainId,this.status===j.CONNECTED){e.next=5;break}throw T.notConnectedError("Not connected with wallet, Please login/connect first");case 5:return e.next=7,this.provider.request({method:"getAccounts"});case 7:if(!((o=e.sent)&&o.length>0)){e.next=27;break}if(p=o[0],f=this.name,!(c=W("localStorage")?localStorage.getItem("".concat(p.toLowerCase(),"_").concat(f)):null)){e.next=14;break}if(F(c)){e.next=14;break}return e.abrupt("return",{idToken:c});case 14:return i={domain:window.location.origin,uri:window.location.href,address:o[0],chainId:parseInt(a,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:(new Date).toISOString()},e.next=17,Y(i,n);case 17:return s=e.sent,l=(new TextEncoder).encode(s),e.next=21,this.provider.request({method:"signMessage",params:{message:l,display:"utf8"}});case 21:return u=e.sent,e.next=24,q(n,G().encode(u),s,this.name,this.sessionTime,this.clientId);case 24:return h=e.sent,z(o[0],this.name,h),e.abrupt("return",{idToken:h});case 27:throw T.notConnectedError("Not connected with wallet, Please login/connect first");case 28:case"end":return e.stop()}var p,f}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,n.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===j.CONNECTED){e.next=2;break}throw T.disconnectionError("Not connected with wallet");case 2:return e.next=4,this.provider.request({method:"getAccounts"});case 4:(t=e.sent)&&t.length>0&&(r=t[0],n=this.name,W("localStorage")&&localStorage.removeItem("".concat(r.toLowerCase(),"_").concat(n)));case 6:case"end":return e.stop()}var r,n}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(M)},69033:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var a=e.charAt(n),o=a.charCodeAt(0);if(255!==t[o])throw new TypeError(a+" is ambiguous");t[o]=n}var c=e.length,i=e.charAt(0),s=Math.log(c)/Math.log(256),l=Math.log(256)/Math.log(c);function u(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,a=0;e[r]===i;)n++,r++;for(var o=(e.length-r)*s+1>>>0,l=new Uint8Array(o);e[r];){var u=t[e.charCodeAt(r)];if(255===u)return;for(var h=0,p=o-1;(0!==u||h<a)&&-1!==p;p--,h++)u+=c*l[p]>>>0,l[p]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");a=h,r++}for(var f=o-a;f!==o&&0===l[f];)f++;for(var d=new Uint8Array(n+(o-f)),v=n;f!==o;)d[v++]=l[f++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,a=0,o=t.length;a!==o&&0===t[a];)a++,r++;for(var s=(o-a)*l+1>>>0,u=new Uint8Array(s);a!==o;){for(var h=t[a],p=0,f=s-1;(0!==h||p<n)&&-1!==f;f--,p++)h+=256*u[f]>>>0,u[f]=h%c>>>0,h=h/c>>>0;if(0!==h)throw new Error("Non-zero carry");n=p,a++}for(var d=s-n;d!==s&&0===u[d];)d++;for(var v=i.repeat(r);d<s;++d)v+=e.charAt(u[d]);return v},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw new Error("Non-base"+c+" character")}}}},5864:function(e,t,r){var n=r(69033);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}}]);
//# sourceMappingURL=584.a7d3619e.chunk.js.map